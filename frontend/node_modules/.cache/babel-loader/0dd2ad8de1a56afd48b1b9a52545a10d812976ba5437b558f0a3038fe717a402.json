{"ast":null,"code":"var _jsxFileName = \"/Users/spencerheywood/Documents/Servo/frontend/src/components/Vendor/VendorShow/index.jsx\",\n  _s = $RefreshSig$();\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport './VendorShow.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isLoggedIn } from '../../store/session';\nimport MenuItemIndex from '../../MenuItem/MenuItemIndex';\nimport { fetchVendors } from '../../store/vendor';\nimport { useEffect, useState } from 'react';\nimport { fetchReviews } from '../../store/reviews';\nimport { ReactComponent as StarSvg } from '../../../assets/svg/reviewStar.svg';\nimport Modal from '../../Modal';\nimport ReviewForm from '../../Reviews/ReviewForm';\nimport ReviewIndex from '../../Reviews/ReviewIndex';\nimport SeeMoreModal from '../SeeMoreModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorShow = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const userLoggedIn = useSelector(isLoggedIn);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const vendor = useSelector(state => state.vendors[id]);\n  const reviews = useSelector(state => state !== null && state !== void 0 && state.reviews ? Object.values(state.reviews) : []);\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\n  const [seeMoreModalOpen, setSeeMoreModalOpen] = useState(false);\n  useEffect(() => {\n    dispatch(fetchVendors());\n    dispatch(fetchReviews(id));\n  }, [dispatch, id]);\n  const toggleReviewModal = () => {\n    setReviewModalOpen(!reviewModalOpen);\n  };\n  const toggleSeeMoreModal = () => {\n    setSeeMoreModalOpen(!seeMoreModalOpen);\n  };\n  let reviewCount = 0;\n  let total = 0;\n  reviews.forEach(review => {\n    reviewCount++;\n    total += review.score;\n  });\n  if (!userLoggedIn) history.push('/');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vendor-show\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: vendor === null || vendor === void 0 ? void 0 : vendor.imageUrl,\n        className: \"image-placeholder\",\n        alt: \"vendor banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: vendor === null || vendor === void 0 ? void 0 : vendor.iconImageUrl,\n        className: \"provider-logo white-background\",\n        alt: \"vendor icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: vendor === null || vendor === void 0 ? void 0 : vendor.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"store-info-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"vendor-show-reviews\",\n        children: [(total / reviewCount).toFixed(1), /*#__PURE__*/_jsxDEV(StarSvg, {\n          className: \"review-star-svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 84\n        }, this), reviewCount, \" ratings \\u2022 $\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"see-more-button\",\n        onClick: toggleSeeMoreModal,\n        children: \"See More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: reviewModalOpen,\n      onClose: toggleReviewModal,\n      children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n        vendorName: vendor === null || vendor === void 0 ? void 0 : vendor.name,\n        vendorId: id,\n        onClose: toggleReviewModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: seeMoreModalOpen,\n      onClose: toggleSeeMoreModal,\n      children: /*#__PURE__*/_jsxDEV(SeeMoreModal, {\n        vendor: vendor,\n        onClose: toggleSeeMoreModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-item-index-container\",\n      children: /*#__PURE__*/_jsxDEV(MenuItemIndex, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reviews-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"review-button\",\n        onClick: toggleReviewModal,\n        children: \"Add a Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReviewIndex, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(VendorShow, \"iGRqyVEE41LxJd1Is1qLj+DCWNM=\", false, function () {\n  return [useParams, useSelector, useHistory, useDispatch, useSelector, useSelector];\n});\n_c = VendorShow;\nexport default VendorShow;\nvar _c;\n$RefreshReg$(_c, \"VendorShow\");","map":{"version":3,"names":["useHistory","useParams","useDispatch","useSelector","isLoggedIn","MenuItemIndex","fetchVendors","useEffect","useState","fetchReviews","ReactComponent","StarSvg","Modal","ReviewForm","ReviewIndex","SeeMoreModal","jsxDEV","_jsxDEV","VendorShow","_s","id","userLoggedIn","history","dispatch","vendor","state","vendors","reviews","Object","values","reviewModalOpen","setReviewModalOpen","seeMoreModalOpen","setSeeMoreModalOpen","toggleReviewModal","toggleSeeMoreModal","reviewCount","total","forEach","review","score","push","className","children","src","imageUrl","alt","fileName","_jsxFileName","lineNumber","columnNumber","iconImageUrl","name","toFixed","onClick","isOpen","onClose","vendorName","vendorId","_c","$RefreshReg$"],"sources":["/Users/spencerheywood/Documents/Servo/frontend/src/components/Vendor/VendorShow/index.jsx"],"sourcesContent":["import { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min'\nimport './VendorShow.css'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { isLoggedIn } from '../../store/session'\nimport MenuItemIndex from '../../MenuItem/MenuItemIndex'\nimport { fetchVendors } from '../../store/vendor';\nimport { useEffect, useState } from 'react'\nimport { fetchReviews } from '../../store/reviews'\nimport { ReactComponent as StarSvg } from '../../../assets/svg/reviewStar.svg'\nimport Modal from '../../Modal'\nimport ReviewForm from '../../Reviews/ReviewForm'\nimport ReviewIndex from '../../Reviews/ReviewIndex'\nimport SeeMoreModal from '../SeeMoreModal'\n\nconst VendorShow = () => {\n    const { id }= useParams()\n    const userLoggedIn = useSelector(isLoggedIn)\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const vendor = useSelector((state)=> state.vendors[id])\n    const reviews = useSelector(state => state?.reviews ? Object.values(state.reviews) : [])\n    const [reviewModalOpen, setReviewModalOpen] = useState(false);\n    const [seeMoreModalOpen, setSeeMoreModalOpen] = useState(false);\n\n    useEffect(() => {\n        dispatch(fetchVendors());\n        dispatch(fetchReviews(id));\n    },[dispatch, id])\n\n    const toggleReviewModal = () => {\n        setReviewModalOpen(!reviewModalOpen)\n    }\n\n    const toggleSeeMoreModal = () => {\n        setSeeMoreModalOpen(!seeMoreModalOpen)\n    }\n\n    let reviewCount = 0\n    let total = 0\n\n    reviews.forEach(review => {\n        reviewCount++\n        total += review.score\n    })\n    \n    if(!userLoggedIn) history.push('/')\n\n    return (\n        <div className=\"vendor-show\">\n            <div className=\"image-placeholder\" >\n                <img src={vendor?.imageUrl} className=\"image-placeholder\" alt=\"vendor banner\"/>\n                <img src={vendor?.iconImageUrl} className=\"provider-logo white-background\" alt=\"vendor icon\" />\n            </div>\n            <h1>{vendor?.name}</h1>\n            <div className=\"store-info-container\">\n                <p className=\"vendor-show-reviews\">{(total/reviewCount).toFixed(1)}<StarSvg className=\"review-star-svg\"/>{ reviewCount} ratings â€¢ $</p>\n                <button className=\"see-more-button\" onClick={toggleSeeMoreModal}>See More</button>\n            </div>\n\n            <Modal isOpen={reviewModalOpen} onClose={toggleReviewModal}>\n                <ReviewForm vendorName={vendor?.name} vendorId={id} onClose={toggleReviewModal} />\n            </Modal>\n            <Modal isOpen={seeMoreModalOpen} onClose={toggleSeeMoreModal}>\n                <SeeMoreModal vendor={vendor} onClose={toggleSeeMoreModal} />\n            </Modal>\n\n            <div className=\"menu-item-index-container\">\n                <MenuItemIndex />\n            </div>\n            <div className=\"reviews-container\">\n                <button className=\"review-button\" onClick={toggleReviewModal}>Add a Review</button>\n                <ReviewIndex />\n            </div>\n        </div>\n    )\n}\n\nexport default VendorShow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}