{"ast":null,"code":"var _jsxFileName = \"/Users/spencerheywood/Documents/Servo/frontend/src/components/Reviews/ReviewForm/index.jsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport './ReviewForm.css';\nimport { useState } from 'react';\nimport { createReview } from '../../store/reviews';\nimport { ReactComponent as CloseIcon } from '../../../assets/svg/Close.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewForm = ({\n  vendorName,\n  vendorId,\n  onClose\n}) => {\n  _s();\n  var _user$lastName$;\n  const user = useSelector(state => {\n    var _state$session;\n    return (_state$session = state.session) === null || _state$session === void 0 ? void 0 : _state$session.user;\n  });\n  const dispatch = useDispatch();\n  const [reviewBody, setReviewBody] = useState('');\n  const [score, setScore] = useState(undefined);\n  const handleInputChange = e => {\n    setReviewBody(e.target.value);\n  };\n  const handleScoreChange = e => {\n    setScore(e.target.value);\n  };\n  const submitReviewForm = e => {\n    e.preventDefault();\n    let review = {\n      review: {\n        userId: user.id,\n        body: reviewBody,\n        score\n      }\n    };\n    if (reviewBody.length > 10 && score !== undefined) {\n      dispatch(createReview(vendorId, review)).then(() => {\n        onClose();\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-form\",\n    children: [/*#__PURE__*/_jsxDEV(CloseIcon, {\n      className: \"close-icon\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add a Public Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: vendorName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-form-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"form-user\",\n          children: [user === null || user === void 0 ? void 0 : user.firstName, \" \", user === null || user === void 0 ? void 0 : (_user$lastName$ = user.lastName[0]) === null || _user$lastName$ === void 0 ? void 0 : _user$lastName$.toUpperCase(), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"public-review-tag\",\n          children: \"Public Review \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleScoreChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Select One\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 1,\n          children: \"1 Star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 2,\n          children: \"2 Stars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 3,\n          children: \"3 Stars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 4,\n          children: \"4 Stars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 5,\n          children: \"5 Stars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"review-body\",\n        value: reviewBody,\n        onChange: handleInputChange,\n        placeholder: \"Helpful reviews mention specific items and describe their quality and taste\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"min-chars\",\n      children: \"Min characters: 10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-form-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitReviewForm,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(ReviewForm, \"4NXZ1rUKKWBMQZTTQMKVr9jBCiA=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ReviewForm;\nexport default ReviewForm;\nvar _c;\n$RefreshReg$(_c, \"ReviewForm\");","map":{"version":3,"names":["useDispatch","useSelector","useState","createReview","ReactComponent","CloseIcon","jsxDEV","_jsxDEV","ReviewForm","vendorName","vendorId","onClose","_s","_user$lastName$","user","state","_state$session","session","dispatch","reviewBody","setReviewBody","score","setScore","undefined","handleInputChange","e","target","value","handleScoreChange","submitReviewForm","preventDefault","review","userId","id","body","length","then","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","firstName","lastName","toUpperCase","onChange","placeholder","_c","$RefreshReg$"],"sources":["/Users/spencerheywood/Documents/Servo/frontend/src/components/Reviews/ReviewForm/index.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport './ReviewForm.css'\nimport { useState } from 'react';\nimport { createReview } from '../../store/reviews';\nimport { ReactComponent as CloseIcon } from '../../../assets/svg/Close.svg'\n\nconst ReviewForm = ({ vendorName, vendorId, onClose }) => {\n    const user = useSelector(state => state.session?.user)\n    const dispatch = useDispatch();\n    const [reviewBody, setReviewBody] = useState('');\n    const [score, setScore] = useState(undefined);\n\n    const handleInputChange = e => {\n        setReviewBody(e.target.value)\n    }\n\n    const handleScoreChange = e => {\n        setScore(e.target.value)\n    }\n\n    const submitReviewForm = (e) => {\n        e.preventDefault();\n        let review = {\n            review: {\n                userId: user.id,\n                body: reviewBody,\n                score \n            }\n        }\n        if(reviewBody.length > 10 && score !== undefined){\n            dispatch(createReview(vendorId, review)).then(()=>{onClose();})\n        }\n    }\n\n    return (\n        <div className=\"review-form\">\n            <CloseIcon className=\"close-icon\" onClick={onClose}/>\n            <h2>Add a Public Review</h2>\n            <h3>{ vendorName }</h3>\n            <form>\n                <div className=\"review-form-header\">\n                    <p className=\"form-user\">{ user?.firstName } { user?.lastName[0]?.toUpperCase()}.</p>\n                    <p className=\"public-review-tag\">Public Review </p>\n                </div>\n                <select onChange={handleScoreChange}>\n                    <option>Select One</option>\n                    <option value={1}>1 Star</option>\n                    <option value={2}>2 Stars</option>\n                    <option value={3}>3 Stars</option>\n                    <option value={4}>4 Stars</option>\n                    <option value={5}>5 Stars</option>\n                </select>\n                <textarea className=\"review-body\"\n                    value={reviewBody} \n                    onChange={handleInputChange} \n                    placeholder=\"Helpful reviews mention specific items and describe their quality and taste\">\n                </textarea>\n            </form>\n            <p className=\"min-chars\">Min characters: 10</p>\n            <div className=\"review-form-footer\">\n                <button onClick={submitReviewForm}>Submit</button>\n            </div>\n        </div>\n    )\n}\n\nexport default ReviewForm;"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAO,kBAAkB;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,cAAc,IAAIC,SAAS,QAAQ,+BAA+B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3E,MAAMC,UAAU,GAAGA,CAAC;EAAEC,UAAU;EAAEC,QAAQ;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,eAAA;EACtD,MAAMC,IAAI,GAAGb,WAAW,CAACc,KAAK;IAAA,IAAAC,cAAA;IAAA,QAAAA,cAAA,GAAID,KAAK,CAACE,OAAO,cAAAD,cAAA,uBAAbA,cAAA,CAAeF,IAAI;EAAA,EAAC;EACtD,MAAMI,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAACqB,SAAS,CAAC;EAE7C,MAAMC,iBAAiB,GAAGC,CAAC,IAAI;IAC3BL,aAAa,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMC,iBAAiB,GAAGH,CAAC,IAAI;IAC3BH,QAAQ,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC5B,CAAC;EAED,MAAME,gBAAgB,GAAIJ,CAAC,IAAK;IAC5BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClB,IAAIC,MAAM,GAAG;MACTA,MAAM,EAAE;QACJC,MAAM,EAAElB,IAAI,CAACmB,EAAE;QACfC,IAAI,EAAEf,UAAU;QAChBE;MACJ;IACJ,CAAC;IACD,IAAGF,UAAU,CAACgB,MAAM,GAAG,EAAE,IAAId,KAAK,KAAKE,SAAS,EAAC;MAC7CL,QAAQ,CAACf,YAAY,CAACO,QAAQ,EAAEqB,MAAM,CAAC,CAAC,CAACK,IAAI,CAAC,MAAI;QAACzB,OAAO,CAAC,CAAC;MAAC,CAAC,CAAC;IACnE;EACJ,CAAC;EAED,oBACIJ,OAAA;IAAK8B,SAAS,EAAC,aAAa;IAAAC,QAAA,gBACxB/B,OAAA,CAACF,SAAS;MAACgC,SAAS,EAAC,YAAY;MAACE,OAAO,EAAE5B;IAAQ;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACrDpC,OAAA;MAAA+B,QAAA,EAAI;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5BpC,OAAA;MAAA+B,QAAA,EAAM7B;IAAU;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACvBpC,OAAA;MAAA+B,QAAA,gBACI/B,OAAA;QAAK8B,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBAC/B/B,OAAA;UAAG8B,SAAS,EAAC,WAAW;UAAAC,QAAA,GAAGxB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8B,SAAS,EAAE,GAAC,EAAE9B,IAAI,aAAJA,IAAI,wBAAAD,eAAA,GAAJC,IAAI,CAAE+B,QAAQ,CAAC,CAAC,CAAC,cAAAhC,eAAA,uBAAjBA,eAAA,CAAmBiC,WAAW,CAAC,CAAC,EAAC,GAAC;QAAA;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACrFpC,OAAA;UAAG8B,SAAS,EAAC,mBAAmB;UAAAC,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC,eACNpC,OAAA;QAAQwC,QAAQ,EAAEnB,iBAAkB;QAAAU,QAAA,gBAChC/B,OAAA;UAAA+B,QAAA,EAAQ;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC3BpC,OAAA;UAAQoB,KAAK,EAAE,CAAE;UAAAW,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACjCpC,OAAA;UAAQoB,KAAK,EAAE,CAAE;UAAAW,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCpC,OAAA;UAAQoB,KAAK,EAAE,CAAE;UAAAW,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCpC,OAAA;UAAQoB,KAAK,EAAE,CAAE;UAAAW,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCpC,OAAA;UAAQoB,KAAK,EAAE,CAAE;UAAAW,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eACTpC,OAAA;QAAU8B,SAAS,EAAC,aAAa;QAC7BV,KAAK,EAAER,UAAW;QAClB4B,QAAQ,EAAEvB,iBAAkB;QAC5BwB,WAAW,EAAC;MAA6E;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACPpC,OAAA;MAAG8B,SAAS,EAAC,WAAW;MAAAC,QAAA,EAAC;IAAkB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC/CpC,OAAA;MAAK8B,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eAC/B/B,OAAA;QAAQgC,OAAO,EAAEV,gBAAiB;QAAAS,QAAA,EAAC;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAA/B,EAAA,CA1DKJ,UAAU;EAAA,QACCP,WAAW,EACPD,WAAW;AAAA;AAAAiD,EAAA,GAF1BzC,UAAU;AA4DhB,eAAeA,UAAU;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}