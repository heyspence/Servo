{"ast":null,"code":"import csrfFetch from './csrf';\nconst RECEIVE_REVIEWS = 'reviews/RECEIVE_REVIEWS';\nconst RECEIVE_REVIEW = 'reviews/RECEIVE_REVIEW';\nconst UPDATE_REVIEW = 'reviews/UPDATE_REVIEW';\nconst REMOVE_REVIEW = 'reviews/REMOVE_REVIEW';\nconst receiveReviews = reviews => ({\n  type: RECEIVE_REVIEWS,\n  reviews\n});\nconst receiveReview = review => ({\n  type: RECEIVE_REVIEW,\n  review\n});\nexport const fetchReviews = vendor_id => async dispatch => {\n  const res = await fetch(`/api/vendors/${vendor_id}/reviews`);\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(receiveReviews(data.reviews));\n  }\n};\nexport const createReview = (vendorId, review) => async dispatch => {\n  const res = await csrfFetch(`/api/vendors/${vendorId}/reviews`, {\n    method: \"POST\",\n    body: JSON.stringify(review)\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(receiveReview(data.reviews));\n  }\n};\nconst reviewsReducer = (state = {}, action) => {\n  let newState = {\n    ...state\n  };\n  switch (action.type) {\n    case RECEIVE_REVIEW:\n      return {\n        ...newState,\n        ...action.review\n      };\n    case RECEIVE_REVIEWS:\n      return {\n        ...action.reviews\n      };\n    case REMOVE_REVIEW:\n      delete {};\n      return {};\n    case UPDATE_REVIEW:\n      return {};\n    default:\n      return newState;\n  }\n};\nexport default reviewsReducer;","map":{"version":3,"names":["csrfFetch","RECEIVE_REVIEWS","RECEIVE_REVIEW","UPDATE_REVIEW","REMOVE_REVIEW","receiveReviews","reviews","type","receiveReview","review","fetchReviews","vendor_id","dispatch","res","fetch","ok","data","json","createReview","vendorId","method","body","JSON","stringify","reviewsReducer","state","action","newState"],"sources":["/Users/spencerheywood/Documents/Servo/frontend/src/components/store/reviews.js"],"sourcesContent":["import csrfFetch from './csrf'\n\nconst RECEIVE_REVIEWS = 'reviews/RECEIVE_REVIEWS'\nconst RECEIVE_REVIEW = 'reviews/RECEIVE_REVIEW'\nconst UPDATE_REVIEW = 'reviews/UPDATE_REVIEW'\nconst REMOVE_REVIEW = 'reviews/REMOVE_REVIEW'\n\nconst receiveReviews = reviews => ({\n    type: RECEIVE_REVIEWS,\n    reviews\n})\n\nconst receiveReview = review => ({\n    type: RECEIVE_REVIEW,\n    review\n})\n\nexport const fetchReviews = vendor_id => async dispatch =>{\n    const res = await fetch(`/api/vendors/${vendor_id}/reviews`)\n\n    if(res.ok){\n        const data = await res.json();\n        dispatch(receiveReviews(data.reviews))\n    }\n}\n\nexport const createReview = (vendorId, review) => async dispatch => {\n    const res = await csrfFetch(`/api/vendors/${vendorId}/reviews`, \n        {method: \"POST\", body: JSON.stringify(review)}\n    )\n    if(res.ok){\n        const data = await res.json();\n        dispatch(receiveReview(data.reviews))\n    }\n}\n\nconst reviewsReducer = (state = {}, action) => {\n    let newState = { ...state }\n    switch(action.type){\n        case RECEIVE_REVIEW:\n            return { ...newState, ...action.review}\n        case RECEIVE_REVIEWS:\n            return { ...action.reviews}\n        case REMOVE_REVIEW:\n            delete {}\n            return {}\n        case UPDATE_REVIEW:\n            return {}\n        default:\n            return newState\n    }\n}\n\nexport default reviewsReducer\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,QAAQ;AAE9B,MAAMC,eAAe,GAAG,yBAAyB;AACjD,MAAMC,cAAc,GAAG,wBAAwB;AAC/C,MAAMC,aAAa,GAAG,uBAAuB;AAC7C,MAAMC,aAAa,GAAG,uBAAuB;AAE7C,MAAMC,cAAc,GAAGC,OAAO,KAAK;EAC/BC,IAAI,EAAEN,eAAe;EACrBK;AACJ,CAAC,CAAC;AAEF,MAAME,aAAa,GAAGC,MAAM,KAAK;EAC7BF,IAAI,EAAEL,cAAc;EACpBO;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAGC,SAAS,IAAI,MAAMC,QAAQ,IAAG;EACtD,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,gBAAeH,SAAU,UAAS,CAAC;EAE5D,IAAGE,GAAG,CAACE,EAAE,EAAC;IACN,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IAC7BL,QAAQ,CAACP,cAAc,CAACW,IAAI,CAACV,OAAO,CAAC,CAAC;EAC1C;AACJ,CAAC;AAED,OAAO,MAAMY,YAAY,GAAGA,CAACC,QAAQ,EAAEV,MAAM,KAAK,MAAMG,QAAQ,IAAI;EAChE,MAAMC,GAAG,GAAG,MAAMb,SAAS,CAAE,gBAAemB,QAAS,UAAS,EAC1D;IAACC,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,MAAM;EAAC,CACjD,CAAC;EACD,IAAGI,GAAG,CAACE,EAAE,EAAC;IACN,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IAC7BL,QAAQ,CAACJ,aAAa,CAACQ,IAAI,CAACV,OAAO,CAAC,CAAC;EACzC;AACJ,CAAC;AAED,MAAMkB,cAAc,GAAGA,CAACC,KAAK,GAAG,CAAC,CAAC,EAAEC,MAAM,KAAK;EAC3C,IAAIC,QAAQ,GAAG;IAAE,GAAGF;EAAM,CAAC;EAC3B,QAAOC,MAAM,CAACnB,IAAI;IACd,KAAKL,cAAc;MACf,OAAO;QAAE,GAAGyB,QAAQ;QAAE,GAAGD,MAAM,CAACjB;MAAM,CAAC;IAC3C,KAAKR,eAAe;MAChB,OAAO;QAAE,GAAGyB,MAAM,CAACpB;MAAO,CAAC;IAC/B,KAAKF,aAAa;MACd,OAAO,CAAC,CAAC;MACT,OAAO,CAAC,CAAC;IACb,KAAKD,aAAa;MACd,OAAO,CAAC,CAAC;IACb;MACI,OAAOwB,QAAQ;EACvB;AACJ,CAAC;AAED,eAAeH,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}