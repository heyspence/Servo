{"ast":null,"code":"var _jsxFileName = \"/Users/spencerheywood/Documents/Servo/frontend/src/components/Reviews/ReviewIndexItem/index.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport './ReviewIndexItem.css';\nimport ReviewShow from '../ReviewShow';\nimport { ReactComponent as GrayReviewStar } from '../../../assets/svg/grayReviewStar.svg';\nimport Modal from '../../Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReviewIndexItem = ({\n  review,\n  onClick\n}) => {\n  _s();\n  const [author, setAuthor] = useState();\n  useEffect(() => {\n    if (review !== null && review !== void 0 && review.userId) {\n      fetchAuthor(review.userId);\n    }\n  }, [review]);\n  const fetchAuthor = async authorId => {\n    const res = await fetch(`/api/users/${authorId}`);\n    if (res.ok) {\n      const {\n        user\n      } = await res.json();\n      setAuthor(user.firstName + \" \" + user.lastName[0].toUpperCase());\n    }\n  };\n  const getColor = () => {\n    const letters = \"abcdefghijklmnopqrstuvwxyz\";\n    const pos = letters.indexOf(author ? author[0].toLowerCase() : 'a');\n    if (pos < 3) return 'rgb(0, 131, 138)';else if (pos >= 3 && pos < 7) return 'rgb(0, 131, 138)';else if (pos >= 7 && pos < 11) return 'rgb(91, 193, 196)';else if (pos >= 11 && pos < 17) return 'rgb(235 22 0)';else if (pos >= 17 && pos < 21) return '#f9e7f7';else return '#39ced7';\n  };\n  const randomColor = getColor();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"review-index-item\",\n      onClick: onClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-title-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-circle\",\n          style: {\n            backgroundColor: randomColor\n          },\n          children: author ? author[0] : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-stars-container\",\n          children: Array.from({\n            length: review === null || review === void 0 ? void 0 : review.score\n          }, (_, index) => /*#__PURE__*/_jsxDEV(GrayReviewStar, {}, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 76\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"review-index-item-body\",\n        children: review === null || review === void 0 ? void 0 : review.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(ReviewIndexItem, \"bRkNvTMCliKcIL/U4NyQkZ3LSbg=\");\n_c = ReviewIndexItem;\nexport default ReviewIndexItem;\nvar _c;\n$RefreshReg$(_c, \"ReviewIndexItem\");","map":{"version":3,"names":["useEffect","useState","ReviewShow","ReactComponent","GrayReviewStar","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","ReviewIndexItem","review","onClick","_s","author","setAuthor","userId","fetchAuthor","authorId","res","fetch","ok","user","json","firstName","lastName","toUpperCase","getColor","letters","pos","indexOf","toLowerCase","randomColor","children","className","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","length","score","_","index","body","_c","$RefreshReg$"],"sources":["/Users/spencerheywood/Documents/Servo/frontend/src/components/Reviews/ReviewIndexItem/index.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport './ReviewIndexItem.css'\nimport ReviewShow from '../ReviewShow';\nimport { ReactComponent as GrayReviewStar } from '../../../assets/svg/grayReviewStar.svg'\nimport Modal from '../../Modal'\n\nconst ReviewIndexItem = ({review, onClick}) => {\n    const [author, setAuthor] = useState();\n\n    useEffect(()=>{\n        if(review?.userId){\n            fetchAuthor(review.userId);\n        }\n    },[review])\n\n    const fetchAuthor = async authorId => {\n        const res = await fetch(`/api/users/${authorId}`)\n        if(res.ok){\n            const { user } = await res.json();\n            setAuthor(user.firstName + \" \" + user.lastName[0].toUpperCase())\n        }\n    }\n\n    const getColor = () => {\n        const letters = \"abcdefghijklmnopqrstuvwxyz\"\n        const pos = letters.indexOf(author ? author[0].toLowerCase() : 'a')\n\n        if(pos < 3)return 'rgb(0, 131, 138)'\n        else if(pos >=3 && pos < 7) return 'rgb(0, 131, 138)'\n        else if(pos >=7 && pos < 11) return 'rgb(91, 193, 196)'\n        else if(pos >=11 && pos <17) return 'rgb(235 22 0)'\n        else if(pos >= 17 && pos <21) return '#f9e7f7'\n        else return '#39ced7'\n    }\n\n    const randomColor = getColor()\n\n    return (\n        <>\n            <li className=\"review-index-item\" onClick={onClick}>\n                <div className=\"review-title-container\">\n                    <div className=\"name-circle\" style={{ backgroundColor: randomColor }}>{ author ? author[0] : ''}</div>\n                    <h3>{author}</h3>\n                    <div className=\"review-stars-container\">\n                        {Array.from({ length: review?.score }, (_, index)=><GrayReviewStar key={index} />)}\n                    </div>\n                </div>\n                <p className=\"review-index-item-body\">{review?.body}</p>\n            </li>\n            {/* <Modal isOpen={reviewModalisOpen} onClose={toggleReviewModal}>\n                <ReviewShow review={review} author={author} onClose={toggleReviewModal}/>\n            </Modal> */}\n        </>\n    )\n}\n\nexport default ReviewIndexItem"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}